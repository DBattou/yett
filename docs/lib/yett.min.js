!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports):"function"==typeof define&&define.amd?define(["exports"],t):t(e.yett={})}(this,function(e){"use strict";var t=function(e){if(Array.isArray(e)){for(var t=0,r=Array(e.length);t<e.length;t++)r[t]=e[t];return r}return Array.from(e)},r=window.YETT_BLACKLIST,n=window.YETT_WHITELIST,c=[],o=function(e,t){return e&&(!t||"javascript/blocked"!==t)&&(!r||r.some(function(t){return t.test(e)}))&&(!n||n.every(function(t){return!t.test(e)}))},i=new MutationObserver(function(e){e.forEach(function(e){for(var t=e.addedNodes,r=function(e){var r=t[e];if(1===r.nodeType&&"SCRIPT"===r.tagName){var n=r.src,i=r.type;if(o(n,i)){c.push(r.cloneNode()),r.type="javascript/blocked";r.addEventListener("beforescriptexecute",function e(t){"javascript/blocked"===r.getAttribute("type")&&t.preventDefault(),r.removeEventListener("beforescriptexecute",e)}),r.parentElement.removeChild(r)}}},n=0;n<t.length;n++)r(n)})});i.observe(document.documentElement,{childList:!0,subtree:!0});var u={src:Object.getOwnPropertyDescriptor(HTMLScriptElement.prototype,"src"),type:Object.getOwnPropertyDescriptor(HTMLScriptElement.prototype,"type")},a=document.createElement;document.createElement=function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];if("script"!==t[0].toLowerCase())return a.bind(document).apply(void 0,t);var n=a.bind(document).apply(void 0,t);return Object.defineProperties(n,{src:{get:function(){return u.src.get.call(this)},set:function(e){return o(e,n.type)&&(n.type="javascript/blocked"),u.src.set.call(this,e)}},type:{set:function(e){return u.type.set.call(this,o(n.src,n.type)?"javascript/blocked":e)}}}),n.setAttribute=function(e,t){"type"===e||"src"===e?n[e]=t:HTMLScriptElement.prototype.setAttribute.call(n,e,t)},n};var p=function(e){var t=e.getAttribute("src");return r&&r.every(function(e){return!e.test(t)})||n&&n.some(function(e){return e.test(t)})};e.unblock=function(){for(var e=arguments.length,o=Array(e),u=0;u<e;u++)o[u]=arguments[u];o.length<1?(r=[],n=[]):(r&&(r=r.filter(function(e){return o.every(function(t){return!e.test(t)})})),n&&(n=[].concat(t(n),t(o.map(function(e){var t=".*"+e.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&")+".*";return n.find(function(e){return e.toString()===t.toString()})?null:new RegExp(t)}).filter(Boolean)))));for(var a=document.querySelectorAll('script[type="javascript/blocked"]'),s=0;s<a.length;s++){var l=a[s];p(l)&&(l.type="application/javascript",c.push(l),l.parentElement.removeChild(l))}c=c.reduce(function(e,r){if(p(r)){var n=document.createElement("script");return n.setAttribute("src",r.src),n.setAttribute("type","application/javascript"),document.head.appendChild(n),e}return[].concat(t(e),[r])},[]),r&&r.length<1&&i.disconnect()},Object.defineProperty(e,"__esModule",{value:!0})});
//# sourceMappingURL=yett.min.js.map
